INFO:pyaf.std:START_TRAINING 'MNI21'
BENCH_TYPE M1_COMP OneDataFrameForAllSignals
BENCH_DATA M1_COMP
TIME :  Date N= 129 H= 18 HEAD= [0 1 2 3 4] TAIL= [124 125 126 127 128]
SIGNAL :  MNI21 N= 129 H= 18 HEAD= [ 625.  615.  559.  660.  708.] TAIL= [ 1510.  1450.  1488.   582.  1554.]
Index  MNI21  Date
1      625.0     0
2      615.0     1
3      559.0     2
4      660.0     3
5      708.0     4
<class 'pandas.core.frame.DataFrame'>
Index: 129 entries, 1 to 129
Data columns (total 2 columns):
MNI21    129 non-null float64
Date     129 non-null int64
dtypes: float64(1), int64(1)
memory usage: 3.0+ KB
None
INFO:pyaf.std:END_TRAINING_TIME_IN_SECONDS 'MNI21' 3.4200587272644043
INFO:pyaf.std:TIME_DETAIL TimeVariable='Date' TimeMin=0 TimeMax=87 TimeDelta=1 Estimation = (0 , 88) Validation = (88 , 111) Test = (111 , 129) Horizon=18
INFO:pyaf.std:SIGNAL_DETAIL SignalVariable='_MNI21' Min=402.0 Max=1656.0  Mean=1052.89922481 StdDev=339.549515631
INFO:pyaf.std:BEST_TRANSOFORMATION_TYPE '_'
INFO:pyaf.std:BEST_DECOMPOSITION  '_MNI21_ConstantTrend_residue_zeroCycle_residue_AR(32)' [ConstantTrend + NoCycle + AR(32)]
INFO:pyaf.std:TREND_DETAIL '_MNI21_ConstantTrend' [ConstantTrend]
INFO:pyaf.std:CYCLE_DETAIL '_MNI21_ConstantTrend_residue_zeroCycle' [NoCycle]
INFO:pyaf.std:AUTOREG_DETAIL '_MNI21_ConstantTrend_residue_zeroCycle_residue_AR(32)' [AR(32)]
INFO:pyaf.std:MODEL_MAPE MAPE_Fit=0.0889 MAPE_Forecast=0.0867 MAPE_Test=0.1169
INFO:pyaf.std:MODEL_MASE MASE_Fit=0.5037 MASE_Forecast=0.5074 MASE_Test=0.5755
INFO:pyaf.std:MODEL_L1 L1_Fit=97.9398016134 L1_Forecast=152.903902082 L1_Test=146.071480286
INFO:pyaf.std:MODEL_L2 L2_Fit=97.9398016134 L2_Forecast=152.903902082 L2_Test=189.190931493
INFO:pyaf.std:MODEL_COMPLEXITY 32
INFO:pyaf.std:AR_MODEL_DETAIL_START
INFO:pyaf.std:AR_MODEL_COEFF 1 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag12 0.665684481643
INFO:pyaf.std:AR_MODEL_COEFF 2 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag24 0.452702791716
INFO:pyaf.std:AR_MODEL_COEFF 3 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag1 0.359498475688
INFO:pyaf.std:AR_MODEL_COEFF 4 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag28 0.348730263726
INFO:pyaf.std:AR_MODEL_COEFF 5 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag3 0.312688040259
INFO:pyaf.std:AR_MODEL_COEFF 6 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag16 -0.257761570184
INFO:pyaf.std:AR_MODEL_COEFF 7 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag15 -0.253030891496
INFO:pyaf.std:AR_MODEL_COEFF 8 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag13 -0.225387241194
INFO:pyaf.std:AR_MODEL_COEFF 9 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag25 -0.167693315144
INFO:pyaf.std:AR_MODEL_COEFF 10 _MNI21_ConstantTrend_residue_zeroCycle_residue_Lag9 -0.108571515163
INFO:pyaf.std:AR_MODEL_DETAIL_END
   Transformation                                              Model  \
0          _MNI21  _MNI21_Lag1Trend_residue_zeroCycle_residue_AR(32)   
1          _MNI21  _MNI21_Lag1Trend_residue_bestCycle_byL2_residu...   
2          _MNI21  _MNI21_ConstantTrend_residue_bestCycle_byL2_re...   
3          _MNI21  _MNI21_ConstantTrend_residue_zeroCycle_residue...   
4      Diff_MNI21  Diff_MNI21_LinearTrend_residue_bestCycle_byL2_...   
5      Diff_MNI21  Diff_MNI21_Lag1Trend_residue_zeroCycle_residue...   
6      Diff_MNI21  Diff_MNI21_PolyTrend_residue_bestCycle_byL2_re...   
7      Diff_MNI21  Diff_MNI21_ConstantTrend_residue_bestCycle_byL...   
8          _MNI21  _MNI21_PolyTrend_residue_bestCycle_byL2_residu...   
9          _MNI21  _MNI21_LinearTrend_residue_zeroCycle_residue_A...   
10         _MNI21  _MNI21_PolyTrend_residue_zeroCycle_residue_AR(32)   
11     Diff_MNI21  Diff_MNI21_LinearTrend_residue_zeroCycle_resid...   
12   CumSum_MNI21  CumSum_MNI21_Lag1Trend_residue_bestCycle_byL2_...   
13   CumSum_MNI21  CumSum_MNI21_Lag1Trend_residue_zeroCycle_resid...   
14     Diff_MNI21  Diff_MNI21_ConstantTrend_residue_zeroCycle_res...   
15   CumSum_MNI21  CumSum_MNI21_LinearTrend_residue_zeroCycle_res...   
16   CumSum_MNI21  CumSum_MNI21_PolyTrend_residue_zeroCycle_resid...   
17     Diff_MNI21  Diff_MNI21_PolyTrend_residue_zeroCycle_residue...   
18     Diff_MNI21  Diff_MNI21_Lag1Trend_residue_bestCycle_byL2_re...   
19   CumSum_MNI21  CumSum_MNI21_ConstantTrend_residue_zeroCycle_r...   
20         _MNI21  _MNI21_LinearTrend_residue_bestCycle_byL2_resi...   
21   CumSum_MNI21  CumSum_MNI21_LinearTrend_residue_bestCycle_byL...   
22     Diff_MNI21  Diff_MNI21_LinearTrend_residue_zeroCycle_resid...   
23     Diff_MNI21  Diff_MNI21_LinearTrend_residue_bestCycle_byL2_...   
24     Diff_MNI21  Diff_MNI21_PolyTrend_residue_zeroCycle_residue...   
25     Diff_MNI21  Diff_MNI21_PolyTrend_residue_bestCycle_byL2_re...   
26     Diff_MNI21  Diff_MNI21_ConstantTrend_residue_zeroCycle_res...   
27     Diff_MNI21  Diff_MNI21_ConstantTrend_residue_bestCycle_byL...   
28   CumSum_MNI21  CumSum_MNI21_PolyTrend_residue_bestCycle_byL2_...   
29         _MNI21    _MNI21_PolyTrend_residue_zeroCycle_residue_NoAR   
..            ...                                                ...   
34   CumSum_MNI21  CumSum_MNI21_Lag1Trend_residue_bestCycle_byL2_...   
35         _MNI21  _MNI21_Lag1Trend_residue_bestCycle_byL2_residu...   
36         _MNI21    _MNI21_Lag1Trend_residue_zeroCycle_residue_NoAR   
37   CumSum_MNI21  CumSum_MNI21_Lag1Trend_residue_zeroCycle_resid...   
38     Diff_MNI21  Diff_MNI21_Lag1Trend_residue_zeroCycle_residue...   
39  RelDiff_MNI21  RelDiff_MNI21_Lag1Trend_residue_zeroCycle_resi...   
40   CumSum_MNI21  CumSum_MNI21_ConstantTrend_residue_bestCycle_b...   
41   CumSum_MNI21  CumSum_MNI21_PolyTrend_residue_zeroCycle_resid...   
42   CumSum_MNI21  CumSum_MNI21_PolyTrend_residue_bestCycle_byL2_...   
43         _MNI21  _MNI21_ConstantTrend_residue_zeroCycle_residue...   
44         _MNI21  _MNI21_ConstantTrend_residue_bestCycle_byL2_re...   
45   CumSum_MNI21  CumSum_MNI21_LinearTrend_residue_zeroCycle_res...   
46   CumSum_MNI21  CumSum_MNI21_LinearTrend_residue_bestCycle_byL...   
47   CumSum_MNI21  CumSum_MNI21_ConstantTrend_residue_zeroCycle_r...   
48   CumSum_MNI21  CumSum_MNI21_ConstantTrend_residue_bestCycle_b...   
49  RelDiff_MNI21  RelDiff_MNI21_ConstantTrend_residue_zeroCycle_...   
50  RelDiff_MNI21  RelDiff_MNI21_ConstantTrend_residue_bestCycle_...   
51  RelDiff_MNI21  RelDiff_MNI21_Lag1Trend_residue_zeroCycle_resi...   
52  RelDiff_MNI21  RelDiff_MNI21_PolyTrend_residue_zeroCycle_resi...   
53  RelDiff_MNI21  RelDiff_MNI21_PolyTrend_residue_bestCycle_byL2...   
54  RelDiff_MNI21  RelDiff_MNI21_LinearTrend_residue_bestCycle_by...   
55  RelDiff_MNI21  RelDiff_MNI21_LinearTrend_residue_zeroCycle_re...   
56  RelDiff_MNI21  RelDiff_MNI21_LinearTrend_residue_zeroCycle_re...   
57  RelDiff_MNI21  RelDiff_MNI21_Lag1Trend_residue_bestCycle_byL2...   
58  RelDiff_MNI21  RelDiff_MNI21_PolyTrend_residue_zeroCycle_resi...   
59  RelDiff_MNI21  RelDiff_MNI21_LinearTrend_residue_bestCycle_by...   
60  RelDiff_MNI21  RelDiff_MNI21_PolyTrend_residue_bestCycle_byL2...   
61  RelDiff_MNI21  RelDiff_MNI21_Lag1Trend_residue_bestCycle_byL2...   
62  RelDiff_MNI21  RelDiff_MNI21_ConstantTrend_residue_zeroCycle_...   
63  RelDiff_MNI21  RelDiff_MNI21_ConstantTrend_residue_bestCycle_...   

    Complexity       FitMAPE  ForecastMAPE      TestMAPE  
0           64  9.540000e-02  8.120000e-02  1.023000e-01  
1           72  9.670000e-02  8.390000e-02  8.530000e-02  
2           40  8.860000e-02  8.410000e-02  1.111000e-01  
3           32  8.890000e-02  8.670000e-02  1.169000e-01  
4           88  3.063000e-01  9.400000e-02  1.789000e-01  
5           96  1.145000e-01  9.500000e-02  1.078000e-01  
6           88  3.050000e-01  9.920000e-02  1.371000e-01  
7           72  2.841000e-01  9.960000e-02  1.472000e-01  
8           56  9.070000e-02  1.035000e-01  2.391000e-01  
9           48  8.880000e-02  1.063000e-01  1.193000e-01  
10          48  8.870000e-02  1.066000e-01  2.887000e-01  
11          80  2.155000e-01  1.227000e-01  1.008000e-01  
12         104  1.752000e-01  1.228000e-01  1.690000e-01  
13          96  1.704000e-01  1.271000e-01  1.816000e-01  
14          64  2.073000e-01  1.284000e-01  1.049000e-01  
15          80  1.333000e-01  1.323000e-01  1.465000e-01  
16          80  1.350000e-01  1.323000e-01  1.549000e-01  
17          80  2.145000e-01  1.330000e-01  1.120000e-01  
18         104  1.314000e-01  1.356000e-01  1.726000e-01  
19          64  1.556000e-01  1.442000e-01  1.584000e-01  
20          56  8.910000e-02  1.654000e-01  1.377000e-01  
21          88  1.982000e-01  1.806000e-01  1.842000e-01  
22          48  1.573000e-01  1.874000e-01  2.358000e-01  
23          56  1.622000e-01  1.876000e-01  2.401000e-01  
24          48  1.572000e-01  1.886000e-01  2.091000e-01  
25          56  1.623000e-01  1.896000e-01  2.139000e-01  
26          32  1.685000e-01  1.936000e-01  1.932000e-01  
27          40  1.676000e-01  1.969000e-01  1.924000e-01  
28          88  1.798000e-01  2.078000e-01  2.253000e-01  
29          16  1.551000e-01  2.160000e-01  4.781000e-01  
..         ...           ...           ...           ...  
34          72  2.183000e-01  2.284000e-01  2.465000e-01  
35          40  1.904000e-01  2.357000e-01  2.376000e-01  
36          32  1.885000e-01  2.358000e-01  2.414000e-01  
37          64  1.997000e-01  2.358000e-01  2.414000e-01  
38          64  1.885000e-01  2.358000e-01  2.414000e-01  
39          64  1.885000e-01  2.358000e-01  2.414000e-01  
40          72  3.457000e-01  2.602000e-01  1.941000e-01  
41          48  3.287000e-01  3.641000e-01  6.755000e-01  
42          56  3.536000e-01  3.775000e-01  6.751000e-01  
43           0  2.512000e-01  3.925000e-01  3.899000e-01  
44           8  2.493000e-01  3.971000e-01  3.876000e-01  
45          48  2.406000e-01  4.498000e-01  4.412000e-01  
46          56  3.260000e-01  4.740000e-01  4.696000e-01  
47          32  1.623900e+00  1.000000e+00  1.000000e+00  
48          40  1.771400e+00  1.152800e+00  1.031600e+00  
49          32  2.645182e+07  1.786479e+07  1.725476e+07  
50          40  2.390051e+07  1.786479e+07  1.725476e+07  
51          96  2.284495e+07  1.786479e+07  1.725476e+07  
52          48  2.645453e+07  1.786479e+07  1.725476e+07  
53          56  2.645335e+07  1.786479e+07  1.725476e+07  
54          88  2.645510e+07  1.786479e+07  1.725476e+07  
55          48  2.645418e+07  1.786479e+07  1.725476e+07  
56          80  2.645760e+07  1.786479e+07  1.725476e+07  
57          72  2.520908e+07  1.786479e+07  1.725476e+07  
58          80  2.645886e+07  1.786479e+07  1.725476e+07  
59          56  2.645301e+07  1.786479e+07  1.725476e+07  
60          88  2.645635e+07  1.786479e+07  1.725476e+07  
61         104  2.521574e+07  1.786479e+07  1.725476e+07  
62          64  2.645219e+07  1.786480e+07  1.725476e+07  
63          72  2.633243e+07  1.786480e+07  1.725476e+07  

[64 rows x 6 columns]
  Transformation                                              Model  \
0         _MNI21  _MNI21_Lag1Trend_residue_zeroCycle_residue_AR(32)   
1         _MNI21  _MNI21_Lag1Trend_residue_bestCycle_byL2_residu...   
2         _MNI21  _MNI21_ConstantTrend_residue_bestCycle_byL2_re...   
3         _MNI21  _MNI21_ConstantTrend_residue_zeroCycle_residue...   
4     Diff_MNI21  Diff_MNI21_LinearTrend_residue_bestCycle_byL2_...   

   Complexity  FitMAPE  ForecastMAPE  TestMAPE  
0          64   0.0954        0.0812    0.1023  
1          72   0.0967        0.0839    0.0853  
2          40   0.0886        0.0841    0.1111  
3          32   0.0889        0.0867    0.1169  
4          88   0.3063        0.0940    0.1789  
Traceback (most recent call last):
  File "tests/bench/test_M1Comp.py", line 11, in <module>
    tester1.testSignals('MNI21 YAD5')
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 337, in testSignals
    tester.testSignal(sig, lHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 159, in testSignal
    self.getTestPerfs(iSignal, iHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 233, in getTestPerfs
    self.applyModel(iSignal, iHorizon);
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 180, in applyModel
    lAutoF1 = self.pickleModel(lAutoF)
  File "/home/antoine/dev/python/packages/pyaf/Bench/GenericBenchmark.py", line 222, in pickleModel
    assert(iModel.to_json() == lReloadedObject.to_json())
  File "/home/antoine/dev/python/packages/pyaf/ForecastEngine.py", line 54, in to_json
    return self.mSignalDecomposition.to_json();
  File "/home/antoine/dev/python/packages/pyaf/TS/SignalDecomposition.py", line 638, in to_json
    return json.dumps(dict1, indent=4, sort_keys=True);
  File "/usr/lib/python3.5/json/__init__.py", line 237, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.5/json/encoder.py", line 200, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.5/json/encoder.py", line 429, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 403, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.5/json/encoder.py", line 436, in _iterencode
    o = _default(o)
  File "/usr/lib/python3.5/json/encoder.py", line 179, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: 18 is not JSON serializable
